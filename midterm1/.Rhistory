knitr::opts_chunk$set(echo = TRUE)
elephants <- read_csv(data/ElephantsMF.csv)
elephants <- read.csv(data/ElephantsMF.csv)
library(tidyverse)
library(janitor)
elephants <- readcsv(data/ElephantsMF.csv)
elephants <- read_csv(data/ElephantsMF.csv)
elephants <- read_csv("data/ElephantsMF.csv")
janitor::clean_names(elephants)
names(elephants)
elephants$sex <- as.factor(elephants$sex)
janitor::clean_names(elephants)
elephants$sex <- as.factor(elephants$sex)
elephants$Sex <- as.factor(elephants$Sex)
class(elephants$Sex)
elephants <- read_csv("data/ElephantsMF.csv")
names(elephants)
janitor::clean_names(elephants)
elephants <- janitor::clean_names(elephants)
elephants$sex <- as.factor(elephants$sex)
class(elephants$sex)
tabyl(elephants$sex)
mean(elephants$age)
elephants %>%
count(sex)
elephants %>%
summarise(mean_age=mean(age))
elephants %>%
group_by(sex) %>%
summarise(mean_age=mean(age),
mean_height=mean(height))
elephants %>%
group_by(sex) %>%
filter(age>20)%>%
summarise(min_height=min(height),
max_height=max(height),
total=n())
vertebrates <- read_csv("data/IvindoData_DyradVersion.csv")
vertebrates <- read_csv("data/IvindoData_DryadVersion.csv")
glimpse(vertebrates)
vertebrates <-
dataset %>%
mutate(across(c(HuntCat, LandUse), as_factor))
vertebrates <-
vertebrates %>%
mutate(across(c(HuntCat, LandUse), as_factor))
vertebrates <-
vertebrates %>%
mutate(across(c(HuntCat, LandUse), as_factor))
class(HuntCat)
vertebrates <-
vertebrates %>%
mutate(across(c(HuntCat, LandUse), as_factor))
class(HuntCat)
vertebrates <-
vertebrates %>%
mutate(across(c(HuntCat, LandUse), as_factor))
class(HuntCat)
vertebrates <-
vertebrates %>%
mutate(across(c(HuntCat, LandUse), as_factor))
class(vertebrates$HuntCat)
vertebrates <-
vertebrates %>%
mutate(across(c(HuntCat, LandUse), as_factor))
class(vertebrates$HuntCat)
class(vertebrates$LandUse)
names(vertebrates)
vertebrates
vertebrates %>%
filter(HuntCat=="High") %>%
summarise(mean_bird_diversity=mean(Diversity_BirdSpecies),
mean_mammal_diversity=mean(Diversity_MammalSpecies))
vertebrates %>%
filter(HuntCat=="Moderate") %>%
summarise(mean_bird_diversity=mean(Diversity_BirdSpecies),
mean_mammal_diversity=mean(Diversity_MammalSpecies))
gabon <- read_csv("data/IvindoData_DryadVersion.csv")
glimpse(gabon)
gabon
gabon <-
gabon %>%
mutate(across(c(HuntCat, LandUse), as_factor))
class(gabon$HuntCat)
class(gabon$LandUse)
gabon %>%
filter(HuntCat=="High") %>%
summarise(mean_bird_diversity=mean(Diversity_BirdSpecies),
mean_mammal_diversity=mean(Diversity_MammalSpecies))
gabon %>%
filter(HuntCat=="Moderate") %>%
summarise(mean_bird_diversity=mean(Diversity_BirdSpecies),
mean_mammal_diversity=mean(Diversity_MammalSpecies))
gabon %>%
filter(Distance>3) %>%
summarise(across(contains"RA_", mean))
gabon %>%
filter(Distance<3) %>%
summarise(across(contains"RA_", mean))
gabon %>%
filter(Distance<3) %>%
summarise(across(contains("RA_"), mean))
gabon %>%
filter(Distance>25) %>%
summarise(across(contains("RA_"), mean))
gabon %>%
filter(HuntCat=="None") %>%
summarise(across(contains("Veg_"), mean))
knitr::opts_chunk$set(echo = TRUE)
fisheries %>% mutate_if(is.character(), as.factor)
fisheries %>%
mutate_if(is.character(), as.factor)
fisheries %>%
mutate_if(is.character(), as.factor)
fisheries <- janitor::clean_names(fisheries)
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
names(fisheries)
dim(fisheries)
anyNA(fisheries)
glimpse(fisheries)
fisheries <- janitor::clean_names(fisheries)
fisheries$country <- as.factor(fisheries$country)
class(fisheries$country)
fisheries$isscaap_group_number <- as.factor(fisheries$isscaap_group_number)
class(fisheries$isscaap_group_number)
fisheries$asfis_species_number <- as.factor(fisheries$asfis_species_number)
class(fisheries$asfis_species_number)
fisheries$fao_major_fishing_area <- as.factor(fisheries$fao_major_fishing_area)
class(fisheries$fao_major_fishing_area)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
tabyl(fisheries_tidy$country)
names(fisheries_tidy)
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
```{r}
fisheries %>%
mutate_if(is.character(), as.factor)
fisheries %>%
mutate_if(is.charachter(), as.factor)
fisheries %>%
mutate_if(is.character(), as.factor)
fisheries %>%
mutate_if(is.character(.), as.factor)
fisheries_2000 <- fisheries_tidy %>%
select(country, year, catch) %>%
filter(year== 2000)
fisheries_2000
fisheries_2000 %>%
summarise(max_catch = max(catch na.rm=T))
fisheries_2000 %>%
summarise(max_catch = max(catch na.rm="TRUE"))
fisheries_2000 %>%
summarise(max_catch = max(catch na.rm=T))
fisheries_2000 %>%
summarise(max_catch = max(catch, na.rm=T))
fisheries_tidy_focused %>%
filter(year==2000) %>%
group_by(country) %>%
summarize(catch_total=sum(catch, na.rm=T)) %>%
arrange(desc(catch_total))
fisheries_tidy %>%
filter(year==2000) %>%
group_by(country) %>%
summarize(catch_total=sum(catch, na.rm=T)) %>%
arrange(desc(catch_total))
names(fisheries_tidy)
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
tabyl(fisheries_tidy$country)
fisheries_tidy
fisheries_tidy %>%
group_by(country) %>%
filter(asfis_species_name=="Sardina pilchardus")
fisheries_tidy %>%
group_by(country) %>%
filter(asfis_species_name=="Sardina pilchardus") %>%
filter(between(year, 1990, 2000))
fisheries_tidy %>%
group_by(country) %>%
filter(asfis_species_name=="Sardina pilchardus") %>%
filter(between(year, 1990, 2000)) %>%
summarise(sardine_catch=sum(catch, na.rm=T))
fisheries_tidy %>%
group_by(country) %>%
filter(asfis_species_name=="Sardina pilchardus") %>%
filter(between(year, 1990, 2000)) %>%
summarise(sardine_catch=sum(catch, na.rm=T)) %>%
arrange(desc(sardine_catch))
fisheries_tidy %>%
group_by(country) %>%
filter(asfis_species_name=="Sardina pilchardus") %>%
filter(between(year, 2008, 2012)) %>%
summarise(cephalopods_catch=sum(catch, na.rm=T)) %>%
arrange(desc(cephalopods_catch)) %>%
head(n=5)
fisheries_tidy %>%
group_by(country) %>%
filter(isscaap_taxonomic_group=="Cephalopods") %>%
filter(between(year, 2008, 2012)) %>%
summarise(cephalopods_catch=sum(catch, na.rm=T)) %>%
arrange(desc(cephalopods_catch)) %>%
head(n=5)
fisheries <- janitor::clean_names(fisheries)
fisheries$country <- as.factor(fisheries$country)
class(fisheries$country)
fisheries_tidy %>%
group_by(country) %>%
filter(asfis_species_name=="Sardina pilchardus", "Octopus vulgaris", "Loligo spp") %>%
filter(between(year, 1990, 2000)) %>%
summarise(sardine_catch=sum(catch, na.rm=T)) %>%
arrange(desc(sardine_catch))
fisheries_tidy %>%
group_by(country) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
filter(between(year, 1990, 2000)) %>%
summarise(sardine_catch=sum(catch, na.rm=T)) %>%
arrange(desc(sardine_catch))
fisheries_tidy %>%
group_by(country) %>%
filter(asfis_species_name=="Sardina pilchardus") %>%
filter(between(year, 1990, 2000)) %>%
summarise(sardine_catch=sum(catch, na.rm=T)) %>%
arrange(desc(sardine_catch))
fisheries_tidy %>%
group_by(country) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
filter(between(year, 2008, 2012)) %>%
summarise(cephalopods_catch=sum(catch, na.rm=T)) %>%
arrange(desc(cephalopods_catch)) %>%
head(n=5)
fisheries_tidy %>%
group_by(country) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
filter(between(year, 2008, 2012)) %>%
summarise(cephalopods_catch=sum(catch, na.rm=T)) %>%
arrange(desc(cephalopods_catch)) %>%
head(n=5)
fisheries_tidy %>%
group_by(asfis_species_name) %>%
filter(between(year, 2008, 2012)) %>%
summarise(highest_catch_total=sum(catch, na.rm = T)) %>%
arrange(desc(highest_catch_total)) %>%
head(n=10)
fisheries_tidy %>%
group_by(country) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
filter(between(year, 2008, 2012)) %>%
summarise(cephalopods_catch=sum(catch, na.rm=T)) %>%
arrange(desc(cephalopods_catch)) %>%
head(n=5)
fisheries_tidy %>%
group_by(asfis_species_name) %>%
filter(between(year, 2008, 2012)) %>%
summarise(highest_catch_total=sum(catch, na.rm = T)) %>%
arrange(desc(highest_catch_total)) %>%
head(n=10)
knitr::opts_chunk$set(echo = TRUE)
new_vector <- c(1,2,3,4,5,6,7,8,9)
